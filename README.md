## 객체지향의 사실과 오해 정리 

### 1장


- 객체지향 → 실세계를 모방하는 것이 아닌, 새로운 세계를 창조하는 것.

- 객체를 스스로 생각하고 스스로 결정하는 현실 세계의 생명체에 비유하는 것

- 소프트웨어 객체의 자율성을 설명하는데 효과적

- 현실 세계의 사람들이 암묵적인 약속과 명시적인 계약을 기반으로 협력하며 목표를 달성해나가는 과정은 “메세지”를 주고 받으며 공동의 목표를 달성하기 위해 “협력”하는 객체들의 관계를 설명한다.

- 각자의 객체에서 역할이 존재하고, 객체간의 협력이 수반된다. 이에 더해 협력을 하면서 각자의 책임을 수행하기 위해 노력한다.

- 객체지향의 핵심 개념 : 책임, 역할, 협력

- 요청 : 손님 → 캐시어 → 바리스타( 손님 → 캐시어(커피를 주문함), 캐시어 → 바리스타 (커피를 제조하라고 명령을 내림))

- 응답 : 바리스타 → 캐시어 (커피 완성) 캐시어 → 손님(커피를 내놓음)


- 역할에 대한 책임의 특징(역할은 책임을 내포한다)

  - 여러 사람이 동일한 역할 수행, 역할은 대체 가능성을 의미(다른 사람이 역할을 대체해도 요청자 입장에서는 이를 인지하지 못함), 한 사람이 동시에 역할 수행 가능

  - 협력 : 책임을 수행하는 역할들 간의 연쇄적인 요청과 응답을 통해 목표를 달성한다는 것
  
  - 협력에 참여하는 주체 : 객체 (객체는 협력적이여야 하고, 자율적이여야 한다)

  - 여기에서 나오는 자율성은 객체 내부와 외부를 명확하게 구분하는 것으로 나온다.

  - 객체는 다른 객체가 “무엇”을 하는지는 알 수 있지만, “어떻게” 수행하는지는 알 수 없다.

  - 자율적인 객체 : 유지보수가 쉽고, 재사용이 용이한 시스템을 구축할 수 있는지에 대한 가능성 제시

- 객체의 정의

  - 상태와 행동을 지닌 실체

  - 객체지향의 세계에서의 의사소통 수단 : 메세지(Message)

  - 요청을 보내는 것 : 메세지 전송(sender)

  - 요청을 받는 것 : 메세지 수신(receiver)

  - 메세지에 대해 처리하는 것 : 응답(method, 메서드)

  - 캡슐화(encapsulation) : 객체의 행동에서 본인만 그 행동을 어떻게 했는지 알 수 있고, 자율성을 높이는 것에 비롯됨

- 객체지향의 중심 : 객체

  - 클래스들간의 정적 관계 x → 메세지를 주고받는 객체들간의 동적인 관계에서 비롯됨

  - 클래스의 구조와 메서드가 아닌, 객체의 책임, 역할, 협력에 포커스를 두는 것이 핵심

### 1장 고민해볼 내용

- 객체의 역할에 대한 책임의 범위는 어디까지인지 인지하면 좋을듯

- Validater라는 객체를 만들면 로직적으로는 맞지만, Member의 역할과 책임이 너무 수동적으로 변하게 된다.

- 객체의 역할 하나당 책임은 하나다

### 2장 

- 객체지향 패러다임은 지식을 추상화하고 추상화한 지식을 객체 안에 캡술화함으로써 실세계 문제에 내재된 복잡성을 관리하려고 하는 것.
- 객체를 발견하고 창조하는 것은 지식과 행동을 구조화하는 문제
- 객체란 인간이 분명하게 인지하고 구별할 수 있는 물리적인 또는 개념적인 경계를 지닌 어떤 것, 상태(state), 행동(behavior), 식별자(identity)를 지닌 실체

객체의 특징
- 상태를 가지고, 상태는 변경이 가능하다.
  - 상태는 변경시키는 것은 행동이다.
  - 행동의 결과는 상태에 의존적이고, 상태를 이용해 서술할 수 있다.
  - 행동의 순서가 결과에 영향을 미친다.
- 상태 변경과 무관하게 "식별이 가능해야 한다"

- 프로퍼티(property) : 객체의 상태를 구성하는 모든 특징(키, 위치, 음료) -> "키, 위치, 음료 자체는 변하지 않기에 정적이다."
- 프로퍼티 값(property value) : 키가 변할 수 있고, 위치가 바뀔 수 있고, 음료의 양이 바뀔 수 있기에 동적
- 링크(link) : 객체와 객체 사이의 의미 있는 연결(요청을 응답을 주고받는 매개체)
- 객체는 자율적인 존재이고, 하나의 객체는 다른 객체의 상태엥 직접적으로 접근이 불가능해야하고, 상태도 변경할 수 없다. 자율적인 객체는 자신의 상태를 본인이 책임져야 한다.
- 부수 효과(side effect) : 객체의 행동에 의해 객체의 상태가 변경된다는 것(ex)앨리스가 문을 통과(행동)해 위치가 바뀜(상태))
- 행동(behavior) : 외부의 요청 또는 수신된 메세지에 응답하기 위해 동작하고 반응하는 활동 -> 행동의 결과로 객체는 자신의 상태를 변경하거나 다른 객체에게 메세지를 전달할 수 있다. 객체는 행동을 통해 다른 객체와의 협력에 참여하므로 행동은 외부에 가시적이여야 한다.
- 객체의 자율성을 높이는 방법 : 상태를 외부에 노출시키지 않고, 행동을 경계로 캡슐화하는 것.
- 동등성(equality) : 두 인스턴스가 존재할 때, 상태를 이용해 두 값이 같은지 판단할 수 있는 성질
- 식별자 : 어떤 객체를 다른 객체와 구분하는데 사용하는 객체의 프로퍼티이다.
- 값은 식별자가 없기 때문에 "동등성" 검사를 통해 비교, 객체는 상태가 변경될 수 있기에 식별자를 이용한 "동일성" 검사를 통해 비교

기계로서의 객체

- 쿼리(query) : 객체의 상태를 조회하는 작업
- 명령(command) : 객체의 상태를 변경하는 작업

행동이 상태를 결정, 상태를 중심으로 행동을 결정하면 나쁜 설계가 되는 이유
- 상태를 중심으로 객체를 바라보면, 캡슐화가 저해 -> 상태에 포커스를 두게 되면, 객체 내부로 깔끔하게 캡슐화되지 못하고 공용 인터페이스에 그대로 노출될 확률이 높다.
- 객체를 협력자가 아닌, 고립된 섬으로 만든다 
- 객체의 재사용성이 저하된다.

객체지향 설계의 핵심
- 애플리케이션에 필요한 협력을 생각하고, 협력에 참여하는데 필요한 행동을 생각한 후 행동을 수행할 객체를 선택하는 방식이다.
- 행동을 결정하고 난 이후에, 행동에 대한 상태를 고려
- 협력 안에서의 행동은 객체가 협력에 참여하면서 완수해야 하는 책임을 의미 -> 책임-주도(Responsibility-Driven Design)설계를 생각하며 코드 설계

은유와 객체
- 객체지향을 현실 세계의 모방이라고 보는 관점은 현실 세계의 추상화로 바라볼 필요성이 있다.
- 추상화(abstraction)란 실제의 사물에서 자신이 원하는 특성만 취하고 필요 없는 부분을 추려 핵심만 표현하는 행위
